<!DOCTYPE html>
<html>

    <!-- Header -->
    <header>
        <title>Analytics Reflector</title>
        <link rel="stylesheet" href="style.css">
        <script src="cookie_util.js"></script>
        <script>
            function generateUUID(){
                var result           = '';
                var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
                for ( var i = 0; i < 15; i++ ) {
                    result += characters.charAt(Math.floor(Math.random() * 62));
                }
                return result;
            }
            window.onload = function(){
                var cookie = document.cookie;
                var uuid = getCookie("uuid");
                if (uuid == ""){
                    uuid = generateUUID();
                    setCookie("uuid", uuid, 1)
                }
                document.getElementById('uuid').innerHTML = uuid;
            };
        </script>
    </header>

    <!-- Body -->
    <body bgcolor="lightblue" class="content">

        <!-- Topic Section -->
        <h1>Hello! User <var id="uuid"></var> </h1>

        <!-- Pre-test Information -->
        <hr style="border-top: dotted 1px;" />
        <div>
            <img src="umich_logo.png" alt="University of Michigan" class="center"></img>
            <p>- You have reached the analytical tracker reflector website of Huaidian Daniel Hou. </p>
            <h2>Please read these information before proceeding: </h2>
            <p>- This website uses web service from ipdata to determine your network status. Agree to their terms of services before proceeding. </p>
            <p>- Except that, this website sends NO data back to the server of this site. All analytical data you see is stored locally in your browser.</p>
            <p>- This website is distributed under the GNU GPLv2 license and provides absolutely NO WARRANTY. 
                Please verify the safety of the website before proceeding. </p>
        </div>

        <!--- Tips Information -->
        <hr style="border-top: dotted 1px;" />
        <div>
            <h2>Did you know?</h2>
            <p>- If you refresh this page now, you will have the same User ID displayed on the title :)</p>
            <p>- Web services use a unique identifier (UUID) injected in your site cookies to track you across the web. [1]</p>
            <p>- By disabling analytics and advertisement cookies, you prevent 3rd party advertisers (such as Google) to track you across the web [2]</p>
            <p>Using an adblocker can mostly achieve the same effect. </p>
        </div>

        <!-- Diagnostics Section -->
        <hr style="border-top: dotted 1px;" onclick="eula_agreed()"/>
        <div>
            <a href="info.html">Click Here to begin Testing</a>
        </div>

        <br>
        <br>
        <p>&nbsp;</p>




        <!-- Footnote Section -->
        <div class="footer">
            <p>This website is created as a University of Michigan class project and is distributed under the GPLv2 license. Please read source code <a href="https://www.github.com/DanielHou315">here</a></p>
        </div>

        <script>
            function eula_agreed(){
                setCookie("eula", "True", 1);
            }
        </script>

    </body>  

</html>